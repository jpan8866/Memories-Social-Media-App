{"version":3,"sources":["actions/types.js","reducers/postsReducer.js","reducers/authReducer.js","reducers/index.js","store.js","components/Navbar/styles.js","images/night_kidz.png","components/Navbar/Navbar.js","components/Posts/Post/styles.js","api/index.js","actions/posts.js","components/Posts/Post/Likes.js","components/Posts/Post/Post.js","components/Posts/styles.js","components/Posts/Posts.js","components/Form/styles.js","components/Form/Form.js","components/paginationStyles.js","components/Paginate.js","styles.js","components/Home/Home.js","components/Auth/styles.js","components/Auth/Icon.js","components/Auth/Input.js","components/Auth/Auth.js","actions/auth.js","components/PostDetails/styles.js","components/PostDetails/CommentSection.js","components/PostDetails/PostDetails.js","App.js","index.js"],"names":["FETCH_ALL","CREATE","UPDATE","SET_ID","DELETE","LIKE_POST","START_LOADING","END_LOADING","FETCH_POST","AUTH","LOGOUT","FETCH_SEARCH","COMMENT_POST","DELETE_COMMENT","initialState","posts","post","currentPage","totalPages","updateId","isLoading","postsReducer","state","action","type","payload","data","map","_id","filter","authData","authReducer","result","localStorage","setItem","JSON","stringify","clear","combineReducers","auth","store","createStore","rootReducer","compose","applyMiddleware","thunk","makeStyles","theme","appBar","borderRadius","margin","display","flexDirection","justifyContent","alignItems","padding","heading","color","textDecoration","image","marginLeft","toolbar","width","profile","userName","brandContainer","purple","palette","getContrastText","deepPurple","backgroundColor","Navbar","styleClasses","useStyles","useState","parse","getItem","user","setUser","navigate","useNavigate","dispatch","useDispatch","location","useLocation","logout","useCallback","useEffect","token","decode","exp","Date","getTime","AppBar","className","position","style","background","to","Typography","variant","align","src","nightKidz","alt","height","Toolbar","Avatar","name","imageUrl","charAt","Button","onClick","component","Link","media","paddingTop","backgroundBlendMode","border","fullHeightCard","card","borderColor","overlay","top","left","overlay2","right","grid","details","title","cardActions","cardAction","textAlign","API","axios","create","baseURL","interceptors","request","use","req","headers","Authorization","fetchPosts","page","get","fetchPost","id","updatePost","updatedPost","patch","deletePost","delete","likePost","fetchPostsBySearch","searchQuery","search","tags","commentPost","comment","deleteComment","getPostsBySearch","a","actions","api","res","console","log","setPostId","postId","comments","Likes","likes","length","find","like","googleId","fontSize","Post","postStyles","setLikes","userId","hasLikedPost","Card","raised","elevation","ButtonBase","CardMedia","selectedFile","moment","createdAt","fromNow","tag","gutterBottom","CardContent","message","creator","size","CardActions","disabled","mainContainer","smMargin","spacing","actionDiv","Posts","postsStyles","useSelector","CircularProgress","Grid","container","item","xs","sm","md","lg","root","paper","form","flexWrap","fileInput","buttonSubmit","marginBottom","Form","postData","setPostData","formStyles","postToUpdate","Paper","autoComplete","noValidate","onSubmit","e","preventDefault","newPost","createPost","TextField","label","fullWidth","value","onChange","target","split","multiple","onDone","base64","ul","Paginate","getPosts","Pagination","classes","count","Number","renderItem","PaginationItem","appBarSearch","pagination","marginTop","appContainer","maxWidth","gridContainer","breakpoints","down","Home","query","URLSearchParams","tagsQuery","searchBar","setSearchBar","setTags","searchPost","trim","join","Grow","in","Container","onKeyPress","key","onAdd","onDelete","tagToDelete","searchButton","avatar","secondary","main","submit","googleButton","icon","viewBox","fill","d","Input","handleChange","half","autoFocus","handleShowPassword","required","InputProps","endAdornment","InputAdornment","IconButton","Auth","authStyles","isSignup","setIsSignup","showErrorMsg","setShowErrorMsg","showPassword","setShowPassword","firstName","lastName","email","password","confirmPassword","formData","setFormData","response","signUp","signIn","fullwidth","paragraph","clientId","render","renderProps","startIcon","Icon","onSuccess","profileObj","tokenId","error","onFailure","alert","cookiePolicy","objectFit","maxHeight","section","flex","imageSection","recommendedPosts","loadingPaper","commentsOuterContainer","commentsInnerContainer","overflowY","marginRight","commentText","commentDeleteButton","CommentSection","commentStyles","setComments","setComment","commentsRef","useRef","handleClick","commentToPost","updatedComments","current","scrollIntoView","behavior","handleDelete","i","ref","multiline","rows","PostDetails","useParams","getPost","Divider","cursor","openPost","App","styles","path","exact","element","replace","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6c4b37ff.chunk.js","sourcesContent":["export const FETCH_ALL = 'FETCH_ALL';\nexport const CREATE = 'CREATE';\nexport const UPDATE = 'UPDATE';\nexport const SET_ID = 'SET_ID';\nexport const DELETE = 'DELETE';\nexport const LIKE_POST = 'LIKE_POST';\n\n// for loading state use\nexport const START_LOADING = 'START_LOADING';\nexport const END_LOADING = 'END_LOADING';\n\n// for PostDetails use\nexport const FETCH_POST = 'FETCH_POST';\n\n// for auth use\nexport const AUTH = 'AUTH';\nexport const LOGOUT = 'LOGOUT';\n\n// for search use\nexport const FETCH_SEARCH = 'FETCH_SEARCH';\n\n// for commenting use\nexport const COMMENT_POST = 'COMMENT_POST';\nexport const DELETE_COMMENT = 'DELETE_POST';","import { FETCH_ALL, FETCH_POST, CREATE, UPDATE, SET_ID, DELETE, LIKE_POST, FETCH_SEARCH, START_LOADING, END_LOADING, COMMENT_POST, DELETE_COMMENT } from \"../actions/types\";\n\nconst initialState = {\n    posts: [],\n    post: null,\n    currentPage: 0,\n    totalPages: 0,\n    updateId: null,\n    isLoading: false\n};\n\nconst postsReducer = (state=initialState, action) => {\n    switch(action.type) {\n        case START_LOADING:\n            return {\n                ...state,\n                isLoading: true\n            }\n        case END_LOADING:\n            return {\n                ...state,\n                isLoading: false\n            }\n        case FETCH_ALL:\n            return {\n                ...state,\n                posts: action.payload.data,\n                currentPage: action.payload.currentPage,\n                totalPages: action.payload.totalPages\n            };\n        case FETCH_POST:\n            return {\n                ...state,\n                post: action.payload\n            }\n        case FETCH_SEARCH:\n            return {\n                ...state,\n                posts: action.payload\n            };\n        case CREATE:\n            return {\n                ...state,\n                posts: [action.payload, ...state.posts]\n            };\n        case UPDATE:\n            // replace the post with matching id with the newly updated post\n            return {\n                ...state,\n                posts: state.posts.map(post => post._id === action.payload._id ? action.payload : post)\n            };\n        case SET_ID:\n            return {\n                ...state,\n                updateId: action.payload\n            };\n        case DELETE:\n            return {\n                ...state,\n                posts: state.posts.filter(post => post._id !== action.payload)\n            };\n        case LIKE_POST:\n            // note that the payload receive is the post with the updated number of likes.\n            // replace it directly using map\n            return {\n                ...state,\n                posts: state.posts.map(post => post._id === action.payload._id ? action.payload : post)\n            };\n        case COMMENT_POST:\n            return {\n                ...state,\n                posts: state.posts.map(post => post._id === action.payload._id ? action.payload : post)\n            }\n        case DELETE_COMMENT:\n            return {\n                ...state,\n                posts: state.posts.map(post => post._id === action.payload._id ? action.payload : post)\n            }\n        default: \n            return state;\n    };\n};\n\nexport default postsReducer;","import { AUTH, LOGOUT } from '../actions/types';\n\nconst initialState = {\n    authData: null\n}\n// get user data\nconst authReducer = (state=initialState, action) => {\n    switch(action.type) {\n        case AUTH:\n            // Need to use JSON.stringify because objects are stored as addresses in localStorage. \n            // we can extract this info in Navbar using JSON.parse\n            // if no result, then its an error message\n            if (action.payload?.result)\n                localStorage.setItem('profile', JSON.stringify({ ...action?.payload }));\n\n            return {\n                ...state,\n                authData: action?.payload\n            };\n        case LOGOUT:\n            // clear the login status from UI\n            localStorage.clear();\n            // erase authData when logging out\n            return {\n                ...state,\n                authData: null\n            };\n        default:\n            return state;\n    }\n}\n\nexport default authReducer;","// combine reducers here\nimport { combineReducers } from 'redux';\nimport postsReducer from './postsReducer';\nimport authReducer from './authReducer';\n\nexport default combineReducers({\n    posts: postsReducer,\n    auth: authReducer\n})","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport rootReducer from './reducers'; // grabs index file \n\nconst initialState = {};\nlet store;\n\nif(process.env.NODE_ENV === 'production') {\n    store = createStore(rootReducer, initialState, compose(\n        applyMiddleware(thunk)\n    ));\n} else { // include redux dev tools only during development, otherwise unsupporting browsers cannot render\n    if (window.navigator.userAgent.includes('Chrome')) {\n        store = createStore(rootReducer, initialState, compose(\n            applyMiddleware(thunk),\n            window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n        ));\n    }\n    else {\n        store = createStore(\n            rootReducer,\n            initialState,\n            compose(\n                applyMiddleware(thunk)\n            )\n        );\n    }\n}\n\nexport default store;","import { makeStyles } from '@material-ui/core/styles';\nimport { deepPurple } from '@material-ui/core/colors';\n\nexport default makeStyles((theme) => ({\n  appBar: {\n    borderRadius: 15,\n    margin: '30px 0',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: '10px 50px',\n  },\n  heading: {\n    color: 'rgb(255,255,0)',\n    textDecoration: 'none',\n  },\n  image: {\n    marginLeft: '15px',\n  },\n  toolbar: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n    width: '400px',\n  },\n  profile: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    width: '400px',\n  },\n  userName: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  brandContainer: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  purple: {\n    color: theme.palette.getContrastText(deepPurple[500]),\n    backgroundColor: deepPurple[500],\n  },\n}));","export default __webpack_public_path__ + \"static/media/night_kidz.2b632907.png\";","import { AppBar, Typography, Button, Toolbar, Avatar } from '@material-ui/core';\nimport useStyles from './styles';\nimport nightKidz from '../../images/night_kidz.png';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { useState, useEffect, useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport decode from 'jwt-decode';\nimport { LOGOUT } from '../../actions/types';\n\nfunction Navbar() {\n    const styleClasses = useStyles();\n    const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\n    //const user = JSON.parse(localStorage.getItem('profile'));\n\n    const navigate = useNavigate();\n    const dispatch = useDispatch();\n    // use the current location to perform side effect (whenever it changes, set user e.g. when logging in, obtaining user info from google OAuth)\n    const location = useLocation();\n\n    const logout = useCallback(() => {\n        dispatch({ type: LOGOUT });\n        navigate('/auth');\n        setUser(null);\n    }, [dispatch, navigate]);\n\n    useEffect(() => {\n        // log user out if token has expired\n        const token = user?.token;\n        if(token) {\n            const decodedToken = decode(token);\n            if(decodedToken.exp * 1000 < new Date().getTime()) {\n                logout();\n            }\n        }\n\n        // so that the login information changes reflect without having to refresh page\n        setUser(JSON.parse(localStorage.getItem('profile')));\n    }, [location, user?.token, logout]);\n\n    return (\n        <AppBar className={styleClasses.appBar} position=\"static\" color=\"inherit\" style={{ background: '#2E3B55' }}>\n            <Link to='/' className={styleClasses.brandContainer}>\n                {/* gives a nice font to textual elements. Note \"/\" is path to home, clicking on Memories title brings back home, set up in routes */}\n                <Typography className={styleClasses.heading} variant=\"h2\" align=\"center\">Mont-Royal</Typography>\n                <img className={styleClasses.image} src={nightKidz} alt=\"night-kidz\" height=\"60\"/>\n            </Link> \n            {/* In the App bar, if logged in, we want to show user avatar, username and logout button */}\n            <Toolbar className={styleClasses.toolbar}>\n                {user?.result ? ( \n                    <div className={styleClasses.profile}>\n                        <Avatar className={styleClasses.purple} alt={user.result.name} src={user.result.imageUrl}>\n                            {!user.result.imageUrl && user.result.name.charAt(0) /* show first letter if no pic */}  \n                        </Avatar>\n                        <Typography className={styleClasses.userName} variant=\"h6\">{user.result.name}</Typography>\n                        <Button variant=\"contained\" className={styleClasses.logout} color=\"secondary\" onClick={logout}>Logout</Button>\n                    </div>\n                ) : ( // if not logged in, simply show button to log in\n                    <Button component={Link} to=\"/auth\" variant=\"contained\" color=\"primary\">Sign In</Button>\n                )}\n            </Toolbar>\n        </AppBar>\n    )\n}\n\nexport default Navbar\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles({\n  media: {\n    height: 0,\n    paddingTop: '56.25%',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    backgroundBlendMode: 'darken',\n  },\n  border: {\n    border: 'solid',\n  },\n  fullHeightCard: {\n    height: '100%',\n  },\n  card: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    borderRadius: '15px',\n    height: '100%',\n    position: 'relative',\n    borderColor: 'red'\n  },\n  overlay: {\n    position: 'absolute',\n    top: '20px',\n    left: '20px',\n    color: 'white',\n  },\n  overlay2: {\n    position: 'absolute',\n    top: '20px',\n    right: '20px',\n    color: 'white',\n  },\n  grid: {\n    display: 'flex',\n  },\n  details: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    margin: '20px',\n  },\n  title: {\n    padding: '0 16px',\n  },\n  cardActions: {\n    padding: '0 16px 8px 16px',\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n  cardAction: {\n    display: 'block',\n    textAlign: 'initial',\n  }\n});","// use axios to make api calls (can also use fetch)\nimport axios from 'axios';\n\n//const url = '/api/posts'; // recall that this url goes to our posts routes in backend\n\n// use baseURL instead, change axios. to API. below\nconst API = axios.create({ baseURL: \"https://us-central1-memories-app-338701.cloudfunctions.net/app/api\" });\n\n// intercept all below requests and populate req with token if logged in, though not all requests will need the token (e.g. fetchPosts fetches regardless of whether logged in)\nAPI.interceptors.request.use((req) => {\n    if(localStorage.getItem('profile')) {\n        req.headers.Authorization = `Bearer ${JSON.parse(localStorage.getItem('profile')).token}`;\n    }    \n    return req;\n})\n\n// used with get, this returns all posts\nexport const fetchPosts = (page) => API.get(`/posts?page=${page}`);\nexport const fetchPost = (id) => API.get(`/posts/${id}`);\nexport const createPost = (newPost) => API.post('/posts', newPost);\nexport const updatePost = (id, updatedPost) => API.patch(`/posts/${id}`, updatedPost);\nexport const deletePost = (id) => API.delete(`/posts/${id}`);\nexport const likePost = (id) => API.patch(`/posts/${id}/likePost`);\n// Note that Axios automatically serializes object to JSON\n\nexport const signIn = (formData) => API.post('/user/signin', formData);\nexport const signUp = (formData) => API.post('/user/signup', formData); \n\n// pagination\nexport const fetchPostsBySearch = (searchQuery) => API.get(`/posts/search?searchQuery=${searchQuery.search || 'none'}&tags=${searchQuery.tags}`);\n\n// commenting. Note that comment is a string, convert to obj\nexport const commentPost = (comment, id) => API.post(`/posts/${id}/commentPost`, { comment })\nexport const deleteComment = (comment, id) => API.patch(`/posts/${id}/deleteComment`, { comment })","import * as api from '../api';\n// use api index file to perform all requests e.g. api.fetchPosts(). Ensures cleanliness\nimport * as actions from './types';\n\nexport const getPosts = (page) => async (dispatch) => {\n    try {\n        // start loading state\n        dispatch({ type: actions.START_LOADING });\n\n        const res = await api.fetchPosts(page); // recall we're using axios\n        dispatch({ \n            type: actions.FETCH_ALL,\n            payload: res.data\n        });\n        // end loading state\n        dispatch({ type: actions.END_LOADING });\n\n    } catch (error) {\n        console.log(error);\n    }\n};\n\nexport const getPostsBySearch = (searchQuery) => async (dispatch) => {\n    try {\n        dispatch({ type: actions.START_LOADING });\n        // send search query to backend and get response\n        const res = await api.fetchPostsBySearch(searchQuery);\n        // dispatch data\n        dispatch({\n            type: actions.FETCH_SEARCH,\n            payload: res.data\n        })\n        dispatch({ type: actions.END_LOADING });\n        \n    } catch (error) {\n        console.log(error);\n    }\n};\n\nexport const getPost = (id) => async (dispatch) => {\n    try {\n        dispatch({ type: actions.START_LOADING });\n        const res = await api.fetchPost(id);\n        dispatch({ \n            type: actions.FETCH_POST,\n            payload: res.data    \n        });\n        dispatch({ type: actions.END_LOADING });\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const createPost = (post, navigate) => async (dispatch) => {\n    try {\n        const res = await api.createPost(post);\n        // Note that Axios automatically serializes object to JSON\n        dispatch({\n            type: actions.CREATE,\n            payload: res.data\n        });\n        // use navigate to jump to newly created post\n        navigate(`/posts/${res.data._id}`);\n    } catch (error) {\n        console.log(error);\n    }\n};\n\nexport const updatePost = (id, post) => async (dispatch) => {\n    try {\n        // send update request to backend and get newly updated post as response\n        const res = await api.updatePost(id, post);\n        const updatedPost = res.data;\n\n        dispatch({\n            type: actions.UPDATE,\n            payload: updatedPost\n        })\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const setPostId = (id) => {\n    return {\n        type: actions.SET_ID,\n        payload: id\n    };\n};\n\nexport const deletePost = (id) => async (dispatch) => {\n    try {\n        // note we are not interested in the response, since we are deleting.\n        // could return the post deleted for debugging purposes if needed.\n        // send request to backend \n        await api.deletePost(id);\n        // update front-end\n        dispatch({\n            type: actions.DELETE,\n            payload: id\n        }); \n    } catch (error) {\n        console.log(error);\n    }\n};\n\nexport const likePost = (id) => async (dispatch) => {\n    try {\n        // send request to back-end to update like count\n        const res = await api.likePost(id);\n        // update front-end\n        dispatch({\n            type: actions.LIKE_POST,\n            payload: res.data\n        });\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const commentPost = (comment, postId) => async (dispatch) => {\n    try {\n        // send to backend\n        const res = await api.commentPost(comment, postId);\n        // update frontend\n        dispatch({\n            type: actions.COMMENT_POST,\n            payload: res.data\n        });\n        return res.data.comments;\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const deleteComment = (comment, postId) => async (dispatch) => {\n    try {\n        const res = await api.deleteComment(comment, postId);\n        dispatch({\n            type: actions.DELETE_COMMENT,\n            payload: res.data\n        });\n        return res.data.comments;\n    } catch (error) {\n        console.log(error);\n    }\n}","import ThumbUpAlt from '@material-ui/icons/ThumbUpAlt'; \nimport ThumbUpAltOutlined from '@material-ui/icons/ThumbUpAltOutlined';\n\nconst Likes = ({likes, user}) => {\n    if(likes.length > 0) {\n        return likes.find(like => like === (user?.result?.googleId || user?.result?._id)) ?\n        (\n            <><ThumbUpAlt fontSize=\"small\" />&nbsp;{likes.length > 2 ? `You and ${likes.length -1} others` : `${likes.length} like${likes.length > 1 ? 's' : ''}` }</>\n\n        ) : (\n            <><ThumbUpAltOutlined fontSize=\"small\" />&nbsp;{likes.length} {likes.length === 1 ? 'Like' : 'Likes'}</>\n        );\n    }\n    // no likes yet\n    return (<>\n                <ThumbUpAltOutlined fontSize=\"small\" />&nbsp;Like\n            </>)\n};\n\nexport default Likes;","import useStyles from './styles';\nimport { Card, CardActions, CardContent, CardMedia, Button, Typography, ButtonBase } from '@material-ui/core'; \nimport DeleteIcon from '@material-ui/icons/Delete';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport moment from 'moment';\nimport { useDispatch } from 'react-redux';\nimport { setPostId, deletePost, likePost } from '../../../actions/posts';\nimport Likes from './Likes';\nimport { useNavigate } from 'react-router-dom';\nimport { useState } from 'react';\n\nconst Post = ({ post }) => {\n    const postStyles = useStyles();\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    const user = JSON.parse(localStorage.getItem('profile'));\n    const [likes, setLikes] = useState(post?.likes)\n\n    const openPost = () => navigate(`/posts/${post._id}`)\n\n    // instant like button reaction (update FE while BE runs)\n    const userId = user?.result?.googleId || user?.result?._id\n    const hasLikedPost = likes.find(like => like === userId)\n    const handleLike = () => {\n        dispatch(likePost(post._id));\n        // determine like/dislike\n        if (hasLikedPost) {\n            // dislike \n            setLikes(post.likes.filter((like) => like !== userId));\n        } else {\n            // like\n            setLikes([...post.likes, userId]); \n        }\n    }\n\n    return (\n        <Card className={postStyles.card} raised elevation={6}>\n            <ButtonBase className={postStyles.cardAction} onClick={openPost}>\n                <CardMedia className={postStyles.media} image={post.selectedFile} title={post.title}/>\n                \n                <div className={postStyles.overlay}>\n                    <Typography variant=\"h6\">{post.name}</Typography>\n                    <Typography variant=\"body2\">{moment(post.createdAt).fromNow()}</Typography>\n                </div>\n                <div className={postStyles.details}>\n                    <Typography variant=\"body2\" color=\"textSecondary\">{post.tags.map((tag) => `#${tag}`)}</Typography>\n                </div>\n                <Typography className={postStyles.title} variant=\"h5\" gutterBottom>{post.title}</Typography>\n                \n                <CardContent>\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">{post.message}</Typography>\n                </CardContent> \n            </ButtonBase>\n             <div className={postStyles.overlay2}>\n                    {/* Do not show button if current user is not creator of post */}\n                    {(user?.result?.googleId === post?.creator || user?.result?._id === post?.creator) &&\n                    (<Button style={{color: 'white'}} size=\"small\" onClick={() => dispatch(setPostId(post._id))}>\n                        <MoreHorizIcon fontSize=\"medium\" />\n                    </Button>)\n                    }\n                </div>\n            <CardActions className={postStyles.cardActions}>\n                <Button size=\"small\" color=\"primary\" disabled={!user} onClick={handleLike}>\n                    <Likes likes={likes} user={user}/>\n                </Button>\n                {(user?.result?.googleId === post?.creator || user?.result?._id === post?.creator) && (\n                <Button size=\"small\" color=\"primary\" onClick={() => dispatch(deletePost(post._id))}>\n                    <DeleteIcon fontSize=\"small\" />\n                    &nbsp; Delete \n                </Button>\n                )}    \n            </CardActions>\n        </Card>\n    );\n};\n\nexport default Post;","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  mainContainer: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  smMargin: {\n    margin: theme.spacing(1),\n  },\n  actionDiv: {\n    textAlign: 'center',\n  },\n}));","import Post from \"./Post/Post\";\nimport { useSelector } from \"react-redux\";\nimport { Grid, CircularProgress } from '@material-ui/core';\n\nimport useStyles from './styles';\n\nconst Posts = () => {\n    const postsStyles = useStyles();\n\n    // ---------- the below doesnt seem necessary....\n\n    // const dispatch = useDispatch();\n    // const updateId = useSelector(state => state.posts.updateId);\n\n    // Include updateId in bracket so that everytime its value changes, the posts are fetched\n    // required when we make updates to a post. \n    // useEffect(() => {\n    //     dispatch(getPosts());\n    // }, [dispatch, updateId]);\n    // -------------\n\n    const posts = useSelector(state => state.posts.posts) \n    // note 1st posts is the postsReducer, 2nd is the posts element of that state object (see postsReducer)\n    const isLoading = useSelector(state => state.posts.isLoading)\n\n    // no posts to show\n    if(!posts?.length && !isLoading) return \"No posts\";\n\n    return (\n        // if no posts or if still loading (since async), display spinning circle\n        // else display posts\n        isLoading ? <CircularProgress /> : (\n            <Grid className={postsStyles.container} container alignItems=\"stretch\" spacing={3}>\n                {posts.map((post) => (\n                    // lg=3 so we have 4 per row (fraction of 12)\n                    <Grid key={post._id} item xs={12} sm={12} md={6} lg={3}>\n                        {/* send the post to the Post component as a prop */}\n                        <Post post={post} />\n                    </Grid>\n                ))}\n            </Grid>\n        )\n    );\n};\n\nexport default Posts;","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  root: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n    },\n  },\n  paper: {\n    padding: theme.spacing(2),\n  },\n  form: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n  },\n  fileInput: {\n    width: '97%',\n    margin: '10px 0',\n  },\n  buttonSubmit: {\n    marginBottom: 10,\n  },\n}));","import useStyles from './styles';\nimport { TextField, Button, Typography, Paper } from '@material-ui/core';\nimport { useState, useEffect } from 'react';\nimport FileBase from 'react-file-base64';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createPost, updatePost } from '../../actions/posts';\nimport { setPostId } from '../../actions/posts';\nimport { useNavigate } from 'react-router-dom';\n\nconst Form = () => {\n    const [postData, setPostData] = useState({\n        title: '',\n        message: '',\n        tags: '',\n        selectedFile: ''\n    });\n\n    const formStyles = useStyles();\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    const user = JSON.parse(localStorage.getItem('profile'));\n    const updateId = useSelector(state => state.posts.updateId);\n    // monitor value of updateId to determine whether we want to display content in form for updating\n    const postToUpdate = useSelector(state => updateId ? state.posts.posts.find(post => post._id === updateId) : null);\n    // postToUpdate can either be post data, or be null, everytime it changes, we update the postData state (e.g. we want to display the post to update in the form during editing.)\n    useEffect(() => {\n        if(postToUpdate) setPostData(postToUpdate);\n    }, [postToUpdate])\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        // if updateId is not null, then this is an update\n        if(updateId) dispatch(updatePost(updateId, { ...postData, name: user?.result?.name }));\n        else dispatch(createPost({ ...postData, name: user?.result?.name }, navigate));\n        // note the current postData state is the final post to create when user clicks submit\n\n        // clear the fields of the form after submitting and reset updateId\n        clear();\n    };\n\n    // put the setPostId in clear() so that we can click clear to cancel edit\n    const clear = () => {\n        // set updateId back to null after updating\n        dispatch(setPostId(null));\n        // clear fields\n        setPostData({\n            title: '',\n            message: '',\n            tags: '',\n            selectedFile: ''\n        });\n    };\n\n    // return w paper to hide form if not logged in\n    if(!user) {\n        return (\n            <Paper className={formStyles.paper}>\n                <Typography variant=\"h6\" align=\"center\">\n                    Please sign in to post and interact with memory cards.\n                </Typography>\n            </Paper>\n        )\n    } \n\n    return (\n        <Paper className={formStyles.paper} elevation={6}>\n            <form autoComplete=\"off\" \n            noValidate \n            className={`${formStyles.form} ${formStyles.root}`} \n            onSubmit={handleSubmit}>\n                <Typography variant=\"h6\">{updateId ? `Editing` : `Creating`} a Memory</Typography>\n                {/* <TextField   // No longer need creator to be filled in manually as we now have authentication\n                name=\"creator\" \n                variant=\"outlined\" \n                label=\"Creator\" \n                fullWidth\n                value={postData.creator}\n                onChange={(e) => setPostData({ ...postData, creator: e.target.value })} /> */}\n                {/* We need to use spread to keep other properties of state postData intact,\n                otherwise the other text fields will disappear and only creator will remain \n                Now repeat below for the other fields */}\n                {/* data from post will be stored in the state object postData, \n                and each object key will be a specific text field */}\n                <TextField name=\"title\" variant=\"outlined\" label=\"Title\" fullWidth value={postData.title} onChange={(e) => setPostData({ ...postData, title: e.target.value })} />\n                <TextField name=\"message\" variant=\"outlined\" label=\"Message\" fullWidth value={postData.message} onChange={(e) => setPostData({ ...postData, message: e.target.value })} />\n                <TextField name=\"tags\" variant=\"outlined\" label=\"Tags\" fullWidth value={postData.tags} onChange={(e) => setPostData({ ...postData, tags: e.target.value.split(',') })} />\n                <div className={formStyles.fileInput}>\n                    <FileBase\n                        type=\"file\"\n                        multiple={false}\n                        // destructuring base64\n                        onDone={({base64}) => setPostData({ ...postData, selectedFile: base64})} \n                    />\n                </div>\n                <Button className={formStyles.buttonSubmit} variant=\"contained\" color=\"primary\" size=\"large\" type=\"submit\" fullWidth>Submit</Button>\n                <Button variant=\"contained\" color=\"secondary\" size=\"small\" onClick={clear} fullWidth>Clear</Button>\n            </form>\n        </Paper>\n    );\n};\n\nexport default Form;","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles(() => ({\n    ul: {\n        justifyContent: 'space-around'\n    }\n}));","import { Pagination, PaginationItem } from '@material-ui/lab';\nimport { Link } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport { getPosts } from '../actions/posts';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport useStyles from \"./paginationStyles\";\n\nconst Paginate = ({ page }) => {\n     const styleClasses = useStyles();\n     const dispatch = useDispatch();\n     const totalPages = useSelector(state => state.posts.totalPages)\n\n     // fetch post everytime the page changes (eg switch page)\n    useEffect(() => {\n        if(page) dispatch(getPosts(page));\n    }, [page, dispatch]);\n\n    return (\n        <Pagination\n            classes = {{ ul: styleClasses.ul }}\n            count = {totalPages}\n            page = {Number(page) || 1}\n            variant = 'outlined'\n            color = 'primary'\n            renderItem={(item) => (\n                <PaginationItem {...item} component={Link} to={`/posts?page=${item.page}`} />\n            )} // change the url parameter page, then home component will pass down to paginate component the page number to re-render\n        />    \n    )\n};\n\nexport default Paginate;","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n    // note this is an object\n    appBarSearch: {\n      borderRadius: 4,\n      marginBottom: '1rem',\n      display: 'flex',\n      padding: '16px',\n    },\n    pagination: {\n      borderRadius: 4,\n      marginTop: '1rem',\n      padding: '16px',\n    },\n    appContainer: {\n      maxWidth: '100%'\n    },\n    gridContainer: {\n      [theme.breakpoints.down('xs')]: {\n        flexDirection: 'column-reverse',\n      },\n    },\n    appBar: {\n        borderRadius: 15,\n        margin: '30px 0',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n        alignItems: 'center',\n      },\n      heading: {\n        color: 'rgba(0,183,255, 1)',\n      },\n      image: {\n        marginLeft: '15px',\n      },\n      [theme.breakpoints.down('sm')]: {\n        mainContainer: {\n          flexDirection:\"column-reverse\" \n        }\n      }\n}));","import { Container, Grow, Grid, Paper, AppBar, TextField, Button } from '@material-ui/core';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport ChipInput from 'material-ui-chip-input';\n\nimport Posts from '../Posts/Posts';\nimport Form from '../Form/Form';\nimport Paginate from '../Paginate'\nimport { getPostsBySearch } from '../../actions/posts';\nimport { useDispatch } from 'react-redux';\n\nimport useStyles from '../../styles';\n\nfunction useQuery() {\n    // location.search returns a string containing all query parameters\n    // combine with URLSearchParams to allow getting the exact parameter you want\n    return new URLSearchParams(useLocation().search);\n}\n\nfunction Home() {\n    // Note that useStyles() returns an object containing 3 style items for appBar, heading and image\n    // use them for below respective elements:\n    const styleClasses = useStyles();\n    const query = useQuery();\n    const page = query.get('page') || 1; // if no page, then currently on page 1\n\n    // if user pastes in link with search params, get it and return the appropriate result:\n    const searchQuery = query.get('searchQuery'); // pass the search params to Paginate component, where we fetch the result\n    const tagsQuery = query.get('tags');\n    const navigate = useNavigate();\n    const [searchBar, setSearchBar] = useState('');\n    const [tags, setTags] = useState([]);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        // check that they exist, otherwise returns empty posts array and will display \"no posts\" instead of loading circle\n        if(searchQuery || tagsQuery) {\n            dispatch(getPostsBySearch({\n                search: searchQuery,\n                tags: tagsQuery // already a string\n            }))\n        }\n    }, [searchQuery, tagsQuery, dispatch])\n\n    const searchPost = () => {\n        if(searchBar.trim() || tags) { // trim to ensure its not an empty space, note not in-place\n            // dispatch action => fetch posts relevant to search (need to modify database to search these posts)\n            // need redux, so that other component's states are automatically maintained coherently\n            dispatch(getPostsBySearch({\n                search: searchBar,\n                tags: tags.join(',') // cannot pass array thru url parameters\n            }))\n            // client side routing necessary so that url can be copied and pasted to display same search results\n            navigate(`/posts/search?searchQuery=${searchBar || 'none'}&tags=${tags.join(',')}`);\n        }\n        else {\n            navigate('/');\n        }\n    }\n\n    const handleKeyPress = (e) => {\n        if(e.key === 'Enter') { // 13 means enter key\n            // search post\n            searchPost();\n            console.log('posts searched.');\n        }\n    }\n\n    const handleAddChip = (tag) => setTags([...tags, tag]);\n\n    const handleDeleteChip = (tagToDelete) => setTags(tags.filter((tag) => tag !== tagToDelete));\n\n    return (\n        /* use Grow for animation */\n        <Grow in>\n            <Container className={styleClasses.appContainer}>\n                <Grid container justifyContent=\"space-between\" alignItems=\"stretch\" spacing={3}>\n                    {/* posts take full screen for xtra small screen, and 6 out of 12 spaces on small/medium devices, since big enough to see posts */}\n                    <Grid item xs={12} sm={6} md={6} lg={9}>\n                        <Posts />\n                    </Grid>\n                    <Grid item xs={12} sm={6} md={3}>\n                        <AppBar className={styleClasses.appBarSearch} position=\"static\" color=\"inherit\">\n                            <TextField \n                                name=\"search\"\n                                variant=\"outlined\"\n                                label=\"Search Memories\"\n                                fullWidth\n                                value={searchBar}\n                                onKeyPress={handleKeyPress} // search posts when press enter\n                                onChange={(e) => {setSearchBar(e.target.value)}}\n                                />\n                            <ChipInput \n                                style={{ margin: '10px 0 '}}\n                                value={ tags }\n                                onAdd={handleAddChip}\n                                onDelete={handleDeleteChip}\n                                label=\"Search Tags\"\n                                variant=\"outlined\"\n                            />\n                            <Button onClick={searchPost} className={styleClasses.searchButton} variant=\"contained\" color=\"primary\">Search</Button>\n                        </AppBar>\n                        <Form />\n                        {(!searchQuery && !tagsQuery) && (\n                            <Paper elevation={6}>\n                                <Paginate className={styleClasses.pagination} page={page}/>\n                            </Paper> \n                        )}\n                    </Grid>\n                </Grid>\n            </Container>\n        </Grow>\n    )\n}\n\nexport default Home\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: theme.spacing(2),\n  },\n  root: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n    },\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  googleButton: {\n    marginBottom: theme.spacing(2),\n  },\n}));","import React from 'react';\n\nconst icon = () => (\n  <svg style={{ width: '20px', height: '20px' }} viewBox=\"0 0 24 24\">\n    <path\n      fill=\"currentColor\"\n      d=\"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z\"\n    />\n  </svg>\n);\n\nexport default icon;","import { TextField, Grid, InputAdornment, IconButton } from '@material-ui/core';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\n\nfunction Input({ name, handleChange, label, half, autoFocus, type, handleShowPassword }) {\n    return (\n        <Grid item xs={12} sm={half ? 6 : 12}>\n            <TextField\n                name={name}\n                onChange={handleChange}\n                variant=\"outlined\"\n                required\n                fullWidth\n                label={label}\n                autoFocus={autoFocus}\n                type={type}\n                InputProps={name === 'password' ? {\n                    endAdornment: (\n                        <InputAdornment position='end'>\n                            <IconButton onClick={handleShowPassword}>\n                                {type === 'password' ? <Visibility /> : <VisibilityOff />}\n                            </IconButton>\n                        </InputAdornment>\n                    )\n                } : null}\n            />\n        </Grid>\n    )\n}\n\nexport default Input\n","import useStyles from './styles'\nimport { Avatar, Button, Paper, Grid, Typography, Container } from '@material-ui/core';\nimport { GoogleLogin } from 'react-google-login';\nimport Icon from './Icon';\n\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Input from './Input';\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { signUp, signIn } from '../../actions/auth'\nimport { AUTH } from '../../actions/types';\n\nfunction Auth() {\n    const authStyles = useStyles();\n\n    const [isSignup, setIsSignup] = useState(false);\n    const [showErrorMsg, setShowErrorMsg] = useState(false);\n    const [showPassword, setShowPassword] = useState(false);\n    const [formData, setFormData] = useState({\n        firstName: '',\n        lastName: '',\n        email: '',\n        password: '',\n        confirmPassword: ''\n\n    })\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    const { authData } = useSelector((state) => state.auth);\n\n    // clear error message when switching signin/signup or when form changed\n    useEffect(() => {\n       setShowErrorMsg(false)\n    }, [isSignup, formData])\n    \n    // display error message when get new error\n    useEffect(() => {\n       setShowErrorMsg(true)\n    }, [authData])\n\n    const handleShowPassword = () => {\n        // toggle state of showPassword\n        setShowPassword(!showPassword);\n    };\n\n    const switchMode = () => {\n        setIsSignup(!isSignup);\n        // reset show password\n        handleShowPassword();\n    };\n\n    const handleSubmit = (e) => {\n        // prevent default (reloading)\n        e.preventDefault();\n        //console.log(formData);\n        \n        // Dispatch an action to update database depending on cases below:\n        // Case 1: new user signing up\n        if(isSignup) {\n            // also pass navigate so we can navigate the page after action completed\n            dispatch(signUp(formData, navigate));\n        } else {\n            // Case 2: existing user logging in\n            dispatch(signIn(formData, navigate));\n        }\n    };\n\n    // Works for all input fields\n    const handleChange = (e) => {\n        setFormData({ ...formData, [e.target.name]: e.target.value });\n    };\n\n    const googleSuccess = (res) => {\n        // the response comes back with user details from google, which we can use to log the user in\n        // use the optional chaining operator to get properties returned by login, return undefined if reference invalid\n        // note that profileObj is itself an object named result\n        const result = res?.profileObj;\n        const token = res?.tokenId;\n\n        try {\n            // dispatch the data to redux state manager so that we can obtain the information in other components e.g. Form\n            dispatch({ type: AUTH, payload: { result, token } });\n            // navigate back to home page after successfully logging in\n            navigate('/');\n        } catch (error) {\n            console.log(error);\n        }\n    };\n\n    const googleFailure = (error) => {\n        console.log(error);\n        alert('Google sign in was unsuccessful. Try again.');\n    };\n\n    return (\n        <Container component=\"main\" maxWidth=\"xs\">\n            <Paper className={authStyles.paper} elevation={3}>\n                <Avatar className={authStyles.avatar}>\n                    <LockOutlinedIcon />\n                </Avatar>\n            <Typography variant=\"h5\">{isSignup ? 'Sign Up' : 'Sign In'}</Typography>\n            <form className={authStyles.form} onSubmit={handleSubmit}>\n                <Grid container spacing={2}>\n                    { isSignup && ( // ask for first and last name if signing up\n                        <>\n                            <Input name=\"firstName\" label=\"First Name\" handleChange={handleChange} autoFocus half />\n                            <Input name=\"lastName\" label=\"Last Name\" handleChange={handleChange} half />\n                        </>\n                    )}\n                    <Input name=\"email\" label=\"Email Address\" handleChange={handleChange} type=\"email\" />\n                    <Input name=\"password\" label=\"Password\" handleChange={handleChange} type={showPassword ? \"text\" : \"password\"} handleShowPassword={handleShowPassword} />\n                    {/* If this is signing up, then we need a confirm password field */}\n                    { isSignup && <Input name=\"confirmPassword\" label=\"repeat Password\" handleChange={handleChange} type={showPassword ? \"text\" : \"password\"} />}\n                </Grid>\n                <Button type=\"submit\" fullwidth=\"true\" variant=\"contained\" color=\"primary\" className={authStyles.submit}>\n                    {isSignup ? \"Sign Up\" : \"Log In\"}\n                </Button>\n                {authData?.message && showErrorMsg && <Typography color=\"secondary\" align=\"center\" variant=\"body1\" paragraph=\"true\">{authData.message}</Typography>}\n                <GoogleLogin\n                    clientId=\"204745316346-dqj9d5f1rct95bgchn5i43vvo8gjhlk1.apps.googleusercontent.com\"\n                    render={(renderProps) => (\n                        <Button \n                            className={authStyles.googleButton}\n                            color=\"primary\"\n                            fullWidth\n                            onClick={renderProps.onClick}\n                            disabled={renderProps.disabled}\n                            startIcon={<Icon />}\n                            variant=\"contained\"\n                        >\n                        Google Log in\n                        </Button>\n                    )}\n                    onSuccess={googleSuccess}\n                    onFailure={googleFailure}\n                    cookiePolicy=\"single_host_origin\"\n                />\n                <Grid container justifyContent=\"flex-end\">\n                    <Grid item>\n                        <Button onClick={switchMode}>\n                            {isSignup ? 'Already have an account? Sign In' : 'Don\\'t have an account? Sign Up'}\n                        </Button>\n                    </Grid>\n                </Grid>\n            </form>\n            </Paper>\n        </Container>\n    )\n}\n\nexport default Auth\n","import { AUTH } from './types';\nimport * as api from '../api/index';\n\nexport const signIn = (postData, navigate) => async (dispatch) => {\n\n    try {\n        // send data to the back-end/database so that it signs in the user\n        // recall with axios we can get data directly, Axios automatically serializes object to JSON\n        // and axios automatically parses JSON response to js object\n        const { data } = await api.signIn(postData); \n        console.log(data)\n        dispatch({ \n            type: AUTH, \n            payload: data \n        });\n\n        // navigate to home once signed in\n        navigate('/');\n    } catch (error) {\n        const { data } = error.response;\n        dispatch({\n            type: AUTH,\n            payload: data\n        });\n    }\n}\n\nexport const signUp = (postData, navigate) => async (dispatch) => {\n    // send data to back-end/data to sign up the user\n    try {\n        const { data } = await api.signUp(postData); \n        \n        dispatch({ \n            type: AUTH, \n            payload: data \n        });\n        \n        navigate('/');\n    } catch (error) { // catch 400 response\n        const { data } = error.response;\n        dispatch({\n            type: AUTH,\n            payload: data\n        });\n    }\n}","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  media: {\n    borderRadius: '20px',\n    objectFit: 'cover',\n    width: '100%',\n    maxHeight: '600px',\n\n  },\n  card: {\n    display: 'flex',\n    width: '100%',\n    [theme.breakpoints.down('sm')]: {\n      flexWrap: 'wrap',\n      flexDirection: 'column',\n    },\n  },\n  section: {\n    borderRadius: '20px',\n    margin: '10px',\n    flex: 1,\n  },\n  imageSection: {\n    marginLeft: '20px',\n    [theme.breakpoints.down('sm')]: {\n      marginLeft: 0,\n    },\n  },\n  recommendedPosts: {\n    display: 'flex',\n    [theme.breakpoints.down('sm')]: {\n      flexDirection: 'column',\n    },\n  },\n  loadingPaper: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: '20px',\n    borderRadius: '15px',\n    height: '39vh',\n  },\n  commentsOuterContainer: {\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n  commentsInnerContainer: {\n    height: '200px',\n    overflowY: 'auto',\n    marginRight: '30px',\n  },\n  commentText: {\n    display: 'inline-block',\n  },\n  commentDeleteButton: {\n    marginLeft: '10px'\n  },\n}));","import { useState, useRef } from 'react';\nimport { Typography, TextField, Button } from '@material-ui/core';\nimport IconButton from '@material-ui/core/IconButton';\nimport { useDispatch } from 'react-redux';\nimport { commentPost, deleteComment } from '../../actions/posts';\nimport useStyles from './styles';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst CommentSection = ({ post }) => {\n    const commentStyles = useStyles();\n    const [comments, setComments] = useState(post?.comments);\n    const [comment, setComment] = useState('');\n    const dispatch = useDispatch()\n    const commentsRef = useRef();\n\n    // get user info of commenter\n    const user = JSON.parse(localStorage.getItem('profile'));\n    const handleClick = async () => {\n        const commentToPost = `${user.result.name}: ${comment}:${user.result?._id || user.result?.googleId}`;\n        // dispatch w redux; we return the updated comment, need to await on the value returned (async)\n        const updatedComments = await dispatch(commentPost(commentToPost, post._id));\n        // immediately update the comments so we see new comment on FE (otherwise need reload)\n        setComments(updatedComments);\n        // reset comment input box\n        setComment('');\n        // scroll to latest comment\n        commentsRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n\n    const handleDelete = async (comment) => {\n        const updatedComments = await dispatch(deleteComment(comment, post._id))\n        setComments(updatedComments);\n        commentsRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n\n    return (\n        <div>\n            <div className={commentStyles.commentsOuterContainer}>\n                <div className={commentStyles.commentsInnerContainer}>\n                    <Typography gutterBottom variant=\"h6\">Comments</Typography>\n                    {comments.map((comment, i) => (\n                        <div key={i}>\n                            <Typography gutterBottom variant=\"subtitle1\" className={commentStyles.commentText}>\n                                {/* user name in bold */}\n                                <strong>{comment.split(': ')[0]}</strong> \n                                {comment.split(':')[1]}\n                            </Typography>\n                            {user && comment.split(':')[2] === (user.result?._id || user.result?.googleId) \n                                && <IconButton className={commentStyles.commentDeleteButton} aria-label=\"delete\" size=\"small\" onClick={() => handleDelete(comment)}>\n                                    <DeleteIcon fontSize=\"small\" />\n                                   </IconButton>}\n                        </div>\n                    ))}\n                    <div ref={commentsRef} />\n                </div>\n                {user?.result?.name && \n                    <div style={{ width: '50%' }}>\n                        <Typography gutterBottom variant=\"h6\">Write a comment</Typography>\n                        <TextField\n                            fullWidth\n                            variant=\"outlined\"\n                            label=\"Comment\"\n                            multiline\n                            rows={4}\n                            value={comment}\n                            onChange={(e) => setComment(e.target.value)}\n                        />\n                        <Button style={{ marginTop: '10px' }} fullWidth disabled={!comment} variant=\"contained\" color=\"primary\" onClick={handleClick}>Comment</Button>\n                    </div>\n                }\n            </div>\n        </div>\n    );\n};\n\nexport default CommentSection;","import { useEffect } from 'react';\nimport { Paper, Typography, CircularProgress, Divider, Grid } from '@material-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport moment from 'moment';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { getPost, getPostsBySearch } from '../../actions/posts';\nimport CommentSection from './CommentSection';\n\nimport useStyles from './styles';\n\nconst PostDetails = () => {\n\n    // get states\n    const { post, posts, isLoading } = useSelector((state) => state.posts);\n    \n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    const postStyles = useStyles();\n    const { id } = useParams();\n\n    // fetch post from BE and put in redux instead\n    // const [post] = useState(posts.find(p => p._id === id))\n\n    // fetch the post to display\n    useEffect(() => {\n      dispatch(getPost(id));\n    }, [id, dispatch]);\n\n    // use a second useEffect to fetch posts with same tags, and populate posts in redux store\n    // re-fetch if post changes\n    useEffect(() => {\n      dispatch(getPostsBySearch({ search: 'none', tags: post?.tags.join(',') }));\n    }, [post, dispatch]);\n\n    const recommendedPosts = posts.filter(({ _id }) => _id !== post?._id); // post itself cannot be in recommended posts\n\n    if (!post) {\n      return <p>No post!</p>;\n    };\n\n    if (isLoading || post._id !== id) { // second condition to prevent display a post previously saved in state right before re-render\n        return (\n        <Paper elevation={6} className={postStyles.loadingPaper}>\n            <CircularProgress size=\"7em\"/>\n        </Paper>\n        )\n    };\n\n    const openPost = (_id) => {\n      navigate(`/posts/${_id}`);\n    };\n\n    return (\n      <Paper style={{ padding: '20px', borderRadius: '15px' }} elevation={6}>\n        <Grid container>\n          <Grid item xs={5}>\n            <div className={postStyles.card}>\n              <div className={postStyles.section}>\n                <Typography variant=\"h3\" component=\"h2\">{post.title}</Typography>\n                <Typography gutterBottom variant=\"h6\" color=\"textSecondary\" component=\"h2\">{post.tags.map((tag) => `#${tag} `)}</Typography>\n                <Typography gutterBottom variant=\"body1\" component=\"p\">{post.message}</Typography>\n                <Typography variant=\"h6\">Created by: {post.name}</Typography>\n                <Typography variant=\"body1\">{moment(post.createdAt).fromNow()}</Typography>\n                <Divider style={{ margin: '20px 0' }} />\n                <CommentSection post={post} />\n              </div>\n            </div>\n          </Grid>\n          <Grid item xs={7}>\n            <div className={postStyles.imageSection}>\n              <img className={postStyles.media} src={post.selectedFile || 'https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png'} alt={post.title} size=\"7em\"/>\n            </div>\n          </Grid>\n        </Grid>  \n      {recommendedPosts && (\n        <div className={postStyles.section}>\n          <Typography gutterBottom variant=\"h5\">You might also like:</Typography>\n          <Divider />\n          <div className={postStyles.recommendedPosts}>\n            {recommendedPosts.map(({ title, message, name, likes, selectedFile, _id }) => (\n            <div style={{ margin: '20px', cursor: 'pointer' }} onClick={() => openPost(_id)} key={_id}>\n              <Typography gutterBottom variant=\"h6\">{title}</Typography>\n              <Typography gutterBottom variant=\"subtitle2\">{name}</Typography>\n              <Typography gutterBottom variant=\"subtitle2\">{message}</Typography>\n              <Typography gutterBottom variant=\"subtitle1\">Likes: {likes.length}</Typography>\n              <img src={selectedFile} width=\"200px\" alt=\"\"/>\n            </div>\n          ))}\n          </div>\n        </div>\n      )}\n      </Paper>\n    );\n};\n\nexport default PostDetails;\n","import { Container } from '@material-ui/core';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\n\nimport Navbar from './components/Navbar/Navbar';\nimport Home from './components/Home/Home';\nimport Auth from './components/Auth/Auth';\nimport PostDetails from './components/PostDetails/PostDetails';\nimport useStyles from './styles';\n\nconst App = () => { //functional component\n\n    const user = JSON.parse(localStorage.getItem('profile'));\n    const styles = useStyles();\n\n    return (\n        <BrowserRouter>\n            {/* use container to center everything */}\n            <Container className={styles.appContainer}>\n                <Navbar />\n                <Routes>\n                    <Route path=\"/\" exact element={<Navigate replace to=\"/posts\" />} />\n                    <Route path=\"/posts\" exact element={<Home />} />\n                    <Route path=\"/posts/search\" exact element={<Home />} />\n                    <Route path=\"/posts/:id\" exact element={<PostDetails />} /> {/*post details path, :id means dynamic */}\n                    <Route path=\"/auth\" exact element={user ? <Navigate replace to=\"/posts\" /> : <Auth />} /> {/* if user already signed in, then /auth goes back to /posts */}\n                </Routes>\n            </Container>   \n        </BrowserRouter>\n           \n    )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root')\n);"],"sourceRoot":""}